{"ast":null,"code":"/**\n * 基于 G 的按钮组件\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { deepMix } from '@antv/util';\n\nvar Button =\n/** @class */\nfunction () {\n  function Button(cfg) {\n    this.config = deepMix({}, cfg);\n    this.init();\n  }\n\n  Button.prototype.update = function (cfg) {\n    this.config = deepMix({}, this.config, cfg);\n    this.updateElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.init = function () {\n    this.initElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.initElement = function () {\n    var _a = this.config,\n        group = _a.group,\n        style = _a.style;\n    this.circle = group.addShape('circle', {\n      attrs: __assign({\n        x: this.config.x,\n        y: this.config.y,\n        r: this.config.r\n      }, style)\n    });\n    this.startMarker = group.addShape('path', {\n      attrs: {\n        path: this.getStartMarkerPath(),\n        fill: '#ccc'\n      },\n      name: 'playPauseBtn'\n    });\n    this.pauseGroupMarker = group.addGroup();\n    var width = 1 / 4 * this.config.r;\n    var height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x - (1 / 4 + 1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width: width * 2.5,\n        height: height,\n        fill: '#fff'\n      },\n      name: 'playPauseBtn'\n    });\n    this.pauseLeftMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x - (1 / 4 + 1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width: width,\n        height: height,\n        fill: '#ccc'\n      },\n      name: 'playPauseBtn'\n    });\n    this.pauseRightMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x + 1 / 8 * this.config.r,\n        y: this.config.y - height / 2,\n        width: width,\n        height: height,\n        fill: '#ccc'\n      },\n      name: 'playPauseBtn'\n    });\n  };\n\n  Button.prototype.updateElement = function () {\n    this.circle.attr('x', this.config.x);\n    this.circle.attr('y', this.config.y);\n    this.circle.attr('r', this.config.r);\n    this.startMarker.attr('path', this.getStartMarkerPath());\n    var width = 1 / 4 * this.config.r;\n    var height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseLeftMarker.attr('x', this.config.x - (1 / 4 + 1 / 8) * this.config.r);\n    this.pauseLeftMarker.attr('y', this.config.y - height / 2);\n    this.pauseLeftMarker.attr('width', width);\n    this.pauseLeftMarker.attr('height', height);\n    this.pauseRightMarker.attr('x', this.config.x + 1 / 8 * this.config.r);\n    this.pauseRightMarker.attr('y', this.config.y - height / 2);\n    this.pauseRightMarker.attr('width', width);\n    this.pauseRightMarker.attr('height', height);\n  };\n\n  Button.prototype.renderMarker = function () {\n    if (this.config.isPlay) {\n      this.startMarker.hide();\n      this.pauseGroupMarker.show();\n    } else {\n      this.startMarker.show();\n      this.pauseGroupMarker.hide();\n    }\n  };\n  /** 获取播放键 marker path */\n\n\n  Button.prototype.getStartMarkerPath = function () {\n    var sideLength = 0.5 * this.config.r * Math.sqrt(3);\n    return [['M', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y - sideLength / 2], ['L', this.config.x + sideLength / Math.sqrt(3), this.config.y], ['L', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y + sideLength / 2]];\n  };\n\n  return Button;\n}();\n\nexport default Button;","map":{"version":3,"sources":["/Users/yangjiafeng/web-src/shake-book-manager/node_modules/@antv/g6-plugin/es/timeBar/timeButton.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","deepMix","Button","cfg","config","init","update","updateElement","renderMarker","initElement","_a","group","style","circle","addShape","attrs","x","y","r","startMarker","path","getStartMarkerPath","fill","name","pauseGroupMarker","addGroup","width","height","Math","sqrt","pauseLeftMarker","pauseRightMarker","attr","isPlay","hide","show","sideLength"],"mappings":"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","sourcesContent":["/**\n * 基于 G 的按钮组件\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { deepMix } from '@antv/util';\n\nvar Button =\n/** @class */\nfunction () {\n  function Button(cfg) {\n    this.config = deepMix({}, cfg);\n    this.init();\n  }\n\n  Button.prototype.update = function (cfg) {\n    this.config = deepMix({}, this.config, cfg);\n    this.updateElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.init = function () {\n    this.initElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.initElement = function () {\n    var _a = this.config,\n        group = _a.group,\n        style = _a.style;\n    this.circle = group.addShape('circle', {\n      attrs: __assign({\n        x: this.config.x,\n        y: this.config.y,\n        r: this.config.r\n      }, style)\n    });\n    this.startMarker = group.addShape('path', {\n      attrs: {\n        path: this.getStartMarkerPath(),\n        fill: '#ccc'\n      },\n      name: 'playPauseBtn'\n    });\n    this.pauseGroupMarker = group.addGroup();\n    var width = 1 / 4 * this.config.r;\n    var height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x - (1 / 4 + 1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width: width * 2.5,\n        height: height,\n        fill: '#fff'\n      },\n      name: 'playPauseBtn'\n    });\n    this.pauseLeftMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x - (1 / 4 + 1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width: width,\n        height: height,\n        fill: '#ccc'\n      },\n      name: 'playPauseBtn'\n    });\n    this.pauseRightMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x + 1 / 8 * this.config.r,\n        y: this.config.y - height / 2,\n        width: width,\n        height: height,\n        fill: '#ccc'\n      },\n      name: 'playPauseBtn'\n    });\n  };\n\n  Button.prototype.updateElement = function () {\n    this.circle.attr('x', this.config.x);\n    this.circle.attr('y', this.config.y);\n    this.circle.attr('r', this.config.r);\n    this.startMarker.attr('path', this.getStartMarkerPath());\n    var width = 1 / 4 * this.config.r;\n    var height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseLeftMarker.attr('x', this.config.x - (1 / 4 + 1 / 8) * this.config.r);\n    this.pauseLeftMarker.attr('y', this.config.y - height / 2);\n    this.pauseLeftMarker.attr('width', width);\n    this.pauseLeftMarker.attr('height', height);\n    this.pauseRightMarker.attr('x', this.config.x + 1 / 8 * this.config.r);\n    this.pauseRightMarker.attr('y', this.config.y - height / 2);\n    this.pauseRightMarker.attr('width', width);\n    this.pauseRightMarker.attr('height', height);\n  };\n\n  Button.prototype.renderMarker = function () {\n    if (this.config.isPlay) {\n      this.startMarker.hide();\n      this.pauseGroupMarker.show();\n    } else {\n      this.startMarker.show();\n      this.pauseGroupMarker.hide();\n    }\n  };\n  /** 获取播放键 marker path */\n\n\n  Button.prototype.getStartMarkerPath = function () {\n    var sideLength = 0.5 * this.config.r * Math.sqrt(3);\n    return [['M', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y - sideLength / 2], ['L', this.config.x + sideLength / Math.sqrt(3), this.config.y], ['L', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y + sideLength / 2]];\n  };\n\n  return Button;\n}();\n\nexport default Button;"]},"metadata":{},"sourceType":"module"}