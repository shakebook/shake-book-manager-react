{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Lookup = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar Lookup = function () {\n  function Lookup() {\n    this._map = new Map();\n  }\n\n  Lookup.prototype.getMap = function () {\n    return this._map;\n  };\n\n  Lookup.prototype.add = function (serviceIdentifier, value) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (value === null || value === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      entry.push(value);\n\n      this._map.set(serviceIdentifier, entry);\n    } else {\n      this._map.set(serviceIdentifier, [value]);\n    }\n  };\n\n  Lookup.prototype.get = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      return entry;\n    } else {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.remove = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (!this._map.delete(serviceIdentifier)) {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.removeByCondition = function (condition) {\n    var _this = this;\n\n    this._map.forEach(function (entries, key) {\n      var updatedEntries = entries.filter(function (entry) {\n        return !condition(entry);\n      });\n\n      if (updatedEntries.length > 0) {\n        _this._map.set(key, updatedEntries);\n      } else {\n        _this._map.delete(key);\n      }\n    });\n  };\n\n  Lookup.prototype.hasKey = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    return this._map.has(serviceIdentifier);\n  };\n\n  Lookup.prototype.clone = function () {\n    var copy = new Lookup();\n\n    this._map.forEach(function (value, key) {\n      value.forEach(function (b) {\n        return copy.add(key, b.clone());\n      });\n    });\n\n    return copy;\n  };\n\n  Lookup.prototype.traverse = function (func) {\n    this._map.forEach(function (value, key) {\n      func(key, value);\n    });\n  };\n\n  return Lookup;\n}();\n\nexports.Lookup = Lookup;","map":{"version":3,"sources":["/Users/yangjiafeng/web-src/shake-book-manager/node_modules/inversify/lib/container/lookup.js"],"names":["Object","defineProperty","exports","value","Lookup","ERROR_MSGS","require","_map","Map","prototype","getMap","add","serviceIdentifier","undefined","Error","NULL_ARGUMENT","entry","get","push","set","KEY_NOT_FOUND","remove","delete","removeByCondition","condition","_this","forEach","entries","key","updatedEntries","filter","length","hasKey","has","clone","copy","b","traverse","func"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lookup = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n"]},"metadata":{},"sourceType":"script"}