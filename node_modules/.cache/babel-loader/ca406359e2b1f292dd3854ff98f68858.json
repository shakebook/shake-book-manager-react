{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BindingWhenSyntax = void 0;\n\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\n\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\n\nvar BindingWhenSyntax = function () {\n  function BindingWhenSyntax(binding) {\n    this._binding = binding;\n  }\n\n  BindingWhenSyntax.prototype.when = function (constraint) {\n    this._binding.constraint = constraint;\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n    this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n    this._binding.constraint = function (request) {\n      var targetIsDefault = request.target !== null && !request.target.isNamed() && !request.target.isTagged();\n      return targetIsDefault;\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n    this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  return BindingWhenSyntax;\n}();\n\nexports.BindingWhenSyntax = BindingWhenSyntax;","map":{"version":3,"sources":["/Users/yangjiafeng/web-src/shake-book-manager/node_modules/inversify/lib/syntax/binding_when_syntax.js"],"names":["Object","defineProperty","exports","value","BindingWhenSyntax","binding_on_syntax_1","require","constraint_helpers_1","binding","_binding","prototype","when","constraint","BindingOnSyntax","whenTargetNamed","name","namedConstraint","whenTargetIsDefault","request","targetIsDefault","target","isNamed","isTagged","whenTargetTagged","tag","taggedConstraint","whenInjectedInto","parent","typeConstraint","parentRequest","whenParentNamed","whenParentTagged","whenAnyAncestorIs","ancestor","traverseAncerstors","whenNoAncestorIs","whenAnyAncestorNamed","whenNoAncestorNamed","whenAnyAncestorTagged","whenNoAncestorTagged","whenAnyAncestorMatches","whenNoAncestorMatches"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingWhenSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n"]},"metadata":{},"sourceType":"script"}