{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yangjiafeng/web-src/shake-book-manager/src/pages/content/pages/menu/index.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { Table, Button, Modal, Input, Form, TreeSelect, message } from 'antd';\nimport { useDispatch } from \"react-redux\";\nimport * as actions from './store/actions';\nconst layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 15\n  }\n};\nconst columns = [{\n  title: 'Name',\n  dataIndex: 'name',\n  key: 'name'\n}, {\n  title: 'Age',\n  dataIndex: 'age',\n  key: 'age',\n  width: '12%'\n}, {\n  title: 'Address',\n  dataIndex: 'address',\n  width: '30%',\n  key: 'address'\n}];\nconst data = [{\n  key: 1,\n  name: 'John Brown sr.',\n  age: 60,\n  address: 'New York No. 1 Lake Park',\n  children: [{\n    key: 11,\n    name: 'John Brown',\n    age: 42,\n    address: 'New York No. 2 Lake Park'\n  }, {\n    key: 12,\n    name: 'John Brown jr.',\n    age: 30,\n    address: 'New York No. 3 Lake Park',\n    children: [{\n      key: 121,\n      name: 'Jimmy Brown',\n      age: 16,\n      address: 'New York No. 3 Lake Park'\n    }]\n  }, {\n    key: 13,\n    name: 'Jim Green sr.',\n    age: 72,\n    address: 'London No. 1 Lake Park',\n    children: [{\n      key: 131,\n      name: 'Jim Green',\n      age: 42,\n      address: 'London No. 2 Lake Park',\n      children: [{\n        key: 1311,\n        name: 'Jim Green jr.',\n        age: 25,\n        address: 'London No. 3 Lake Park'\n      }, {\n        key: 1312,\n        name: 'Jimmy Green sr.',\n        age: 18,\n        address: 'London No. 4 Lake Park'\n      }]\n    }]\n  }]\n}, {\n  key: 2,\n  name: 'Joe Black',\n  age: 32,\n  address: 'Sidney No. 1 Lake Park'\n}];\nconst treeData = [{\n  title: 'Node1',\n  value: '0-0',\n  children: [{\n    title: 'Child Node1',\n    value: '0-0-1'\n  }, {\n    title: 'Child Node2',\n    value: '0-0-2'\n  }]\n}, {\n  title: 'Node2',\n  value: '0-1'\n}];\n\nconst Menu = () => {\n  _s();\n\n  const [visible, setVisible] = React.useState(false);\n  const [menuName, setMenuName] = React.useState(\"\");\n  const [menuIcon, setMenuIcon] = React.useState(\"\");\n  const [menuRouter, setMenuRouter] = React.useState(\"\");\n  const [parentId, setParentId] = React.useState('0-1');\n  const [id, setId] = React.useState(null);\n  const dispatch = useDispatch();\n\n  const submit = () => {\n    if (!menuName) {\n      message.error('菜单名称不能为空');\n      return;\n    }\n\n    if (id) {// dispatch(actions.UpdateRoleRequest({\n      //   {\n      //     roleName: menuName,\n      //     id: id,\n      //   } as manager.ICreateMenuRequest)\n    } else {\n      dispatch(actions.createMenuRequest({\n        menuName: menuName,\n        menuIcon: menuIcon,\n        menuRouter: menuRouter,\n        parentId: Number(parentId)\n      }));\n    }\n\n    cancelModel();\n  };\n\n  const showModel = record => {\n    setMenuName(record.menuName);\n    setId(record.id);\n    setVisible(true);\n  };\n\n  const cancelModel = () => {\n    setVisible(false);\n    setMenuName(\"\");\n    setId(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: () => showModel({}),\n        children: \"\\u65B0\\u589E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"\\u83DC\\u5355\",\n        visible: visible,\n        onOk: submit,\n        onCancel: cancelModel,\n        okText: \"\\u786E\\u8BA4\",\n        cancelText: \"\\u53D6\\u6D88\",\n        style: {\n          top: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"\\u4E0A\\u7EA7\\u83DC\\u5355\",\n            children: /*#__PURE__*/_jsxDEV(TreeSelect, {\n              allowClear: true,\n              style: {\n                width: '100%'\n              },\n              value: parentId,\n              dropdownStyle: {\n                maxHeight: 600,\n                overflow: 'auto'\n              },\n              treeData: treeData,\n              placeholder: \"\\u8BF7\\u9009\\u62E9...\",\n              treeDefaultExpandAll: true,\n              onChange: v => setParentId(v)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: \"red\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 35\n              }, this), \"\\u83DC\\u5355\\u540D\\u79F0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setMenuName(e.target.value),\n              value: menuName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"\\u83DC\\u5355\\u8DEF\\u7531\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setMenuRouter(e.target.value.replace(/\\s+/g, \"\")),\n              value: menuRouter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"\\u83DC\\u5355\\u56FE\\u6807\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setMenuIcon(e.target.value.replace(/\\s+/g, \"\")),\n              value: menuIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: data,\n      pagination: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Menu, \"MS22Li6V170oUdHYuVA0+Rs1mzI=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Menu;\nexport default Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["/Users/yangjiafeng/web-src/shake-book-manager/src/pages/content/pages/menu/index.tsx"],"names":["React","Table","Button","Modal","Input","Form","TreeSelect","message","useDispatch","actions","layout","labelCol","span","wrapperCol","columns","title","dataIndex","key","width","data","name","age","address","children","treeData","value","Menu","visible","setVisible","useState","menuName","setMenuName","menuIcon","setMenuIcon","menuRouter","setMenuRouter","parentId","setParentId","id","setId","dispatch","submit","error","createMenuRequest","Number","cancelModel","showModel","record","marginBottom","top","maxHeight","overflow","v","color","e","target","replace"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Table, Button, Modal, Input, Form, TreeSelect, message } from 'antd';\nimport { Dispatch } from \"redux\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { manager } from '@/service/api/v1/manager_pb'\nimport * as actions from './store/actions'\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 15 },\n};\nconst columns = [\n  {\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n  },\n  {\n    title: 'Age',\n    dataIndex: 'age',\n    key: 'age',\n    width: '12%',\n  },\n  {\n    title: 'Address',\n    dataIndex: 'address',\n    width: '30%',\n    key: 'address',\n  },\n];\n\nconst data = [\n  {\n    key: 1,\n    name: 'John Brown sr.',\n    age: 60,\n    address: 'New York No. 1 Lake Park',\n    children: [\n      {\n        key: 11,\n        name: 'John Brown',\n        age: 42,\n        address: 'New York No. 2 Lake Park',\n      },\n      {\n        key: 12,\n        name: 'John Brown jr.',\n        age: 30,\n        address: 'New York No. 3 Lake Park',\n        children: [\n          {\n            key: 121,\n            name: 'Jimmy Brown',\n            age: 16,\n            address: 'New York No. 3 Lake Park',\n          },\n        ],\n      },\n      {\n        key: 13,\n        name: 'Jim Green sr.',\n        age: 72,\n        address: 'London No. 1 Lake Park',\n        children: [\n          {\n            key: 131,\n            name: 'Jim Green',\n            age: 42,\n            address: 'London No. 2 Lake Park',\n            children: [\n              {\n                key: 1311,\n                name: 'Jim Green jr.',\n                age: 25,\n                address: 'London No. 3 Lake Park',\n              },\n              {\n                key: 1312,\n                name: 'Jimmy Green sr.',\n                age: 18,\n                address: 'London No. 4 Lake Park',\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  {\n    key: 2,\n    name: 'Joe Black',\n    age: 32,\n    address: 'Sidney No. 1 Lake Park',\n  },\n];\nconst treeData = [\n  {\n    title: 'Node1',\n    value: '0-0',\n    children: [\n      {\n        title: 'Child Node1',\n        value: '0-0-1',\n      },\n      {\n        title: 'Child Node2',\n        value: '0-0-2',\n      },\n    ],\n  },\n  {\n    title: 'Node2',\n    value: '0-1',\n  },\n];\n\n\nconst Menu: React.FC = () => {\n  const [visible, setVisible] = React.useState(false)\n\n  const [menuName, setMenuName] = React.useState(\"\")\n  const [menuIcon, setMenuIcon] = React.useState(\"\")\n  const [menuRouter, setMenuRouter] = React.useState(\"\")\n  const [parentId, setParentId] = React.useState<string>('0-1')\n  const [id, setId] = React.useState<null | number>(null)\n  const dispatch: Dispatch<any> = useDispatch()\n  const submit = () => {\n    if (!menuName) {\n      message.error('菜单名称不能为空');\n      return\n    }\n    if (id) {\n      // dispatch(actions.UpdateRoleRequest({\n      //   {\n      //     roleName: menuName,\n      //     id: id,\n      //   } as manager.ICreateMenuRequest)\n    } else {\n      dispatch(actions.createMenuRequest({\n        menuName: menuName,\n        menuIcon: menuIcon,\n        menuRouter: menuRouter,\n        parentId: Number(parentId),\n      } as manager.ICreateMenuRequest))\n    }\n    cancelModel()\n  }\n\n  const showModel = (record: manager.IMenuInfo) => {\n    setMenuName(record.menuName!);\n    setId(record.id!);\n    setVisible(true)\n  }\n\n  const cancelModel = () => {\n    setVisible(false)\n    setMenuName(\"\");\n    setId(null)\n  }\n\n  return <>\n    <div style={{ marginBottom: '10px' }}>\n      <Button type=\"primary\" onClick={() => showModel({} as manager.ICreateMenuRequest)}>新增</Button>\n      <Modal\n        title=\"菜单\"\n        visible={visible}\n        onOk={submit}\n        onCancel={cancelModel}\n        okText=\"确认\"\n        cancelText=\"取消\"\n        style={{ top: 20 }}\n      >\n        <Form {...layout}>\n          <Form.Item label=\"上级菜单\">\n            <TreeSelect\n              allowClear={true}\n              style={{ width: '100%' }}\n              value={parentId}\n              dropdownStyle={{ maxHeight: 600, overflow: 'auto' }}\n              treeData={treeData}\n              placeholder=\"请选择...\"\n              treeDefaultExpandAll\n              onChange={(v) => setParentId(v)}\n            />\n          </Form.Item >\n          <Form.Item label={<span><strong style={{ color: \"red\" }}>*</strong>菜单名称</span>}>\n            <Input\n              onChange={(e) => setMenuName(e.target.value)}\n              value={menuName}\n            />\n          </Form.Item >\n          <Form.Item label=\"菜单路由\">\n            <Input\n              onChange={(e) => setMenuRouter(e.target.value.replace(/\\s+/g, \"\"))}\n              value={menuRouter}\n            />\n          </Form.Item >\n          <Form.Item label=\"菜单图标\">\n            <Input\n              onChange={(e) => setMenuIcon(e.target.value.replace(/\\s+/g, \"\"))}\n              value={menuIcon}\n            />\n          </Form.Item >\n        </Form>\n      </Modal>\n    </div>\n    <Table\n      columns={columns}\n      dataSource={data}\n      pagination={false}\n    />\n  </>\n\n}\n\nexport default Menu\n"]},"metadata":{},"sourceType":"module"}