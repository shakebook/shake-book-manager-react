{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.inject = exports.LazyServiceIdentifer = void 0;\n\nvar error_msgs_1 = require(\"../constants/error_msgs\");\n\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\n\nvar metadata_1 = require(\"../planning/metadata\");\n\nvar decorator_utils_1 = require(\"./decorator_utils\");\n\nvar LazyServiceIdentifer = function () {\n  function LazyServiceIdentifer(cb) {\n    this._cb = cb;\n  }\n\n  LazyServiceIdentifer.prototype.unwrap = function () {\n    return this._cb();\n  };\n\n  return LazyServiceIdentifer;\n}();\n\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\n\nfunction inject(serviceIdentifier) {\n  return function (target, targetKey, index) {\n    if (serviceIdentifier === undefined) {\n      throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n    }\n\n    var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n\n    if (typeof index === \"number\") {\n      decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    } else {\n      decorator_utils_1.tagProperty(target, targetKey, metadata);\n    }\n  };\n}\n\nexports.inject = inject;","map":{"version":3,"sources":["/Users/yangjiafeng/web-src/shake-book-manager/node_modules/inversify/lib/annotation/inject.js"],"names":["Object","defineProperty","exports","value","inject","LazyServiceIdentifer","error_msgs_1","require","METADATA_KEY","metadata_1","decorator_utils_1","cb","_cb","prototype","unwrap","serviceIdentifier","target","targetKey","index","undefined","Error","UNDEFINED_INJECT_ANNOTATION","name","metadata","Metadata","INJECT_TAG","tagParameter","tagProperty"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,MAAR,GAAiBF,OAAO,CAACG,oBAAR,GAA+B,KAAK,CAArD;;AACA,IAAIC,YAAY,GAAGC,OAAO,CAAC,yBAAD,CAA1B;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,4BAAD,CAA1B;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,sBAAD,CAAxB;;AACA,IAAIG,iBAAiB,GAAGH,OAAO,CAAC,mBAAD,CAA/B;;AACA,IAAIF,oBAAoB,GAAI,YAAY;AACpC,WAASA,oBAAT,CAA8BM,EAA9B,EAAkC;AAC9B,SAAKC,GAAL,GAAWD,EAAX;AACH;;AACDN,EAAAA,oBAAoB,CAACQ,SAArB,CAA+BC,MAA/B,GAAwC,YAAY;AAChD,WAAO,KAAKF,GAAL,EAAP;AACH,GAFD;;AAGA,SAAOP,oBAAP;AACH,CAR2B,EAA5B;;AASAH,OAAO,CAACG,oBAAR,GAA+BA,oBAA/B;;AACA,SAASD,MAAT,CAAgBW,iBAAhB,EAAmC;AAC/B,SAAO,UAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,KAA7B,EAAoC;AACvC,QAAIH,iBAAiB,KAAKI,SAA1B,EAAqC;AACjC,YAAM,IAAIC,KAAJ,CAAUd,YAAY,CAACe,2BAAb,CAAyCL,MAAM,CAACM,IAAhD,CAAV,CAAN;AACH;;AACD,QAAIC,QAAQ,GAAG,IAAId,UAAU,CAACe,QAAf,CAAwBhB,YAAY,CAACiB,UAArC,EAAiDV,iBAAjD,CAAf;;AACA,QAAI,OAAOG,KAAP,KAAiB,QAArB,EAA+B;AAC3BR,MAAAA,iBAAiB,CAACgB,YAAlB,CAA+BV,MAA/B,EAAuCC,SAAvC,EAAkDC,KAAlD,EAAyDK,QAAzD;AACH,KAFD,MAGK;AACDb,MAAAA,iBAAiB,CAACiB,WAAlB,CAA8BX,MAA9B,EAAsCC,SAAtC,EAAiDM,QAAjD;AACH;AACJ,GAXD;AAYH;;AACDrB,OAAO,CAACE,MAAR,GAAiBA,MAAjB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inject = exports.LazyServiceIdentifer = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n"]},"metadata":{},"sourceType":"script"}