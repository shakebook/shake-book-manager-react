{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\n\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n  var metadataKey = METADATA_KEY.TAGGED;\n\n  _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\n\nexports.tagParameter = tagParameter;\n\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n  var metadataKey = METADATA_KEY.TAGGED_PROP;\n\n  _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\n\nexports.tagProperty = tagProperty;\n\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n  var paramsOrPropertiesMetadata = {};\n  var isParameterDecorator = typeof parameterIndex === \"number\";\n  var key = parameterIndex !== undefined && isParameterDecorator ? parameterIndex.toString() : propertyName;\n\n  if (isParameterDecorator && propertyName !== undefined) {\n    throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n  }\n\n  if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n    paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n  }\n\n  var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n\n  if (!Array.isArray(paramOrPropertyMetadata)) {\n    paramOrPropertyMetadata = [];\n  } else {\n    for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n      var m = paramOrPropertyMetadata_1[_i];\n\n      if (m.key === metadata.key) {\n        throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n      }\n    }\n  }\n\n  paramOrPropertyMetadata.push(metadata);\n  paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n  Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\n\nfunction _decorate(decorators, target) {\n  Reflect.decorate(decorators, target);\n}\n\nfunction _param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\n\nfunction decorate(decorator, target, parameterIndex) {\n  if (typeof parameterIndex === \"number\") {\n    _decorate([_param(parameterIndex, decorator)], target);\n  } else if (typeof parameterIndex === \"string\") {\n    Reflect.decorate([decorator], target, parameterIndex);\n  } else {\n    _decorate([decorator], target);\n  }\n}\n\nexports.decorate = decorate;","map":{"version":3,"sources":["/Users/yangjiafeng/web-src/shake-book-manager/node_modules/inversify/lib/annotation/decorator_utils.js"],"names":["Object","defineProperty","exports","value","tagProperty","tagParameter","decorate","ERROR_MSGS","require","METADATA_KEY","annotationTarget","propertyName","parameterIndex","metadata","metadataKey","TAGGED","_tagParameterOrProperty","TAGGED_PROP","constructor","paramsOrPropertiesMetadata","isParameterDecorator","key","undefined","toString","Error","INVALID_DECORATOR_OPERATION","Reflect","hasOwnMetadata","getMetadata","paramOrPropertyMetadata","Array","isArray","_i","paramOrPropertyMetadata_1","length","m","DUPLICATED_METADATA","push","defineMetadata","_decorate","decorators","target","_param","paramIndex","decorator"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n"]},"metadata":{},"sourceType":"script"}